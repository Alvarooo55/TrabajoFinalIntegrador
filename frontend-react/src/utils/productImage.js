const FALLBACK_IMAGE = 'https://placehold.co/640x420?text=Producto+deportivo'

const categoryImages = {
  calzado: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=640&q=60',
  ropa: 'https://images.unsplash.com/photo-1460353581641-37baddab0fa2?auto=format&fit=crop&w=640&q=60',
  accesorios: 'https://images.unsplash.com/photo-1518609571773-39b7d303a87b?auto=format&fit=crop&w=640&q=60',
  equipamiento: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&w=640&q=60',
}

const specificProductImages = {
  'botella termica sport 750ml': 'https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcT0jGGvDvbybSatvEg3sE06_x_j8Z-VuT24x6eKfZRM8xoCw9wKy2RFaghd_l0F_SFi0SQJLC4zfs3mfP_il0OnHYJkFiFj_PMyMaV8l1_oF_90DvcSzcpA5Q',
  'rodillera compresion pro': 'https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcTlej7wDWLuTVhCCpQ4m0s9POMUnAr4hPxuDWPuklGM6lPDyiKt8NpO-WlAk1p9D1CbtEXoxp3n9YygGdneB2Rkvti8tPtoHcgqZ0_AkWdP34IzD5KcUTg3Zha1aN8V6phOYdlhPSWKcu4&usqp=CAc',
  'short deportivo flex': 'https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcRt01gpUIH0qReJs7dARIzugftbyhj7hid0zdIGciQ7Per7RgJPhIihIU46U-ssP7Xgd1_X_0RfSqm0ndxCFCaha36fCckhQs7wpk7_60Hgmag0I6I9bGHnQw&usqp=CAc',
  'calcetines running pack x3': 'https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcRFLg1QBNRHX6icn2DvntwJ-d8FTAXToSQV7wlKd5L-dcBtPUIo_opA1L99vjBlu1T9DkcYwnhZ1pihEbS6o6pCIG4GWHuLt76avvOQHE3Q2rnxoh9j81nHXjr-e7wePed2qt89iqcSfg&usqp=CAc',
  'munequera deportiva par': 'https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSWTGfj-ExcjLczPC_BKhwQP-EztAhwMo2_T2mOd39G_EVJ-0u9ao36iWfnbw-VZ0-wm-lQ32cbnrGsDJ_G6Hf5mQRiQQQWF54IOeEy1vTliYSHWERA0LE5v9Gv&usqp=CAc',
  'sudadera training core': 'https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcQT1C71cJ51-LgKDmOAsvEq6X-xW_QE4KEQwBjuRSDT2RGdgGYZHFt-VcxlM0aUruJJ8HhmzU0Psmx3Xn6aCPI62AYKXyBLMzH_D529Xgp5-tEtS3mNFMjvJf5Z9ugZN-3ynAdco9tXrU4&usqp=CAc',
  'colchoneta yoga premium': 'https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcTTQg9oVh0xUM1m1o74W37nPxyGwsXDuM5tVJ4cQe6KYAgbORPWRpxpgyqyfYZ-0r_oighxghgyUIIv81upqGvAI_wOpDFiZM_k6Qf5Ur5Cp9R7cQ7JeqZLgC0fhtuj1Pf088Tl1w&usqp=CAc',
  'gorra deportiva uv': 'data:image/webp;base64,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',
  'camiseta tecnica dryfit azul': 'https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcSFp5wArKrrV3VFjMSKJrTdG57wbQo2s71nPlc0r7KRFvYrovbZJiOcnRM9UzBf6R_z8K2AlOnQlVGxx5ZwdYoHqJbObrWVcwjsZElsc-8C1vZzTyTxbUwY8UMpFUx0ri1YTzbA4kRmDt8&usqp=CAc',
  'mancuernas hexagonales 5kg': 'https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcSTj8wIeB6Ll7-BFZmieF1831cTaEj14zbsFx4qKpWPVzyG3qode3wrTzhB1knsfbjLI4c2R6l7bxGwA9aXnD6jcfRNUVUV_a7E0ld9NquQlWxugEOXpvdYlGEH-48WkyDzW1k4b8RwUg&usqp=CAc',
  'banda elastica resistencia media': 'https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcSgtKmNaDnBsagYex3XC3kQYDDwviVhE5HDqmfCz3K1bdfIpkd3IXfhecq68sJHI6Bi2HfSh7jTt58EuJd2AOOXnAfqPl1GXRt6mziUbaUbBFTODWqIeXc7Gg1u9RhkAeydV1wB5yq7vqc&usqp=CAc',
  'guantes de portero elite': 'https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcScLGY5uxJxJsS-TRhOWJqyxVGW2spvBE6cVXTw7aWIU6D0To2wzQRnsAbyiQ0E1i6vIdmz3VhCblhkxMQIrlGrjr9koWkMJ8MQ6F_nvI6TJv8TDpiEr4Cb4EfsmFCa8GTovp7MTA&usqp=CAc',
  'balon de futbol pro match': 'https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcTAP72Hlu1GW48zWkzh5UCVD-0QynFBgyOqv8pSTCEiDvOL_uBynK3mHhAWfIp0sJR2Nexv4MNVwEJaZyaa08CkfVdfl6PJgg0JXlxKtMfcqMixEmqmnORkFY0qOfODcawsdgoNeA&usqp=CAc',
  'comba crossfit speed rope': 'https://encrypted-tbn2.gstatic.com/shopping?q=tbn:ANd9GcQGLNQKIZuda72Goubs22E0dr_lYTUSQHl-6JHsmcW3DhLMkrL3ZKFtAGgP0_yWw8dL8ky9Lmue6jsppOsB5Q6Ilkr3Gmd-ycZPGw1oatY&usqp=CAc',
  'zapatillas running velocity x': 'data:image/webp;base64,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',
  'mancuernas hexagonales 10kg': 'https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcTU_26x8ZYKWheX_rcYec2LC6QGhKaw7GcAjjzNru6zjtWbxNfYS4NSohtTvGF9ZtmGQUiWHYdwY35YKaIyy9x6TlwkfMB_qAaMK_9o1Qtk4iyCDBB05lu0&usqp=CAc',
}

const keywordRules = [
  { regex: /(bal[oó]n|f[uú]tbol)/i, image: 'https://images.unsplash.com/photo-1553778263-73a83bab9b0c?auto=format&fit=crop&w=640&q=60' },
  { regex: /(guantes|portero)/i, image: 'https://images.unsplash.com/photo-1575361204480-aadea25e6e68?auto=format&fit=crop&w=640&q=60' },
  { regex: /(zapatillas|running|basketball|f[uú]tbol sala|calzado)/i, image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=640&q=60' },
  { regex: /(camiseta|sudadera|casaca|short|calcetines|ropa)/i, image: 'https://images.unsplash.com/photo-1460353581641-37baddab0fa2?auto=format&fit=crop&w=640&q=60' },
  { regex: /(mancuernas|colchoneta|banda|comba|equipamiento)/i, image: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&w=640&q=60' },
  { regex: /(rodillera|mu[ñn]equera|botella|gorra|espinilleras|accesorios)/i, image: 'https://images.unsplash.com/photo-1518609571773-39b7d303a87b?auto=format&fit=crop&w=640&q=60' },
]

const resolveImageByName = (product) => {
  const name = (product?.nombre || '')
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '')
    .toLowerCase()

  const specific = specificProductImages[name]
  if (specific) return specific

  const matchedRule = keywordRules.find((rule) => rule.regex.test(name))

  if (matchedRule) return matchedRule.image

  return categoryImages[product?.categoria] || FALLBACK_IMAGE
}

export const getProductImage = (product) => {
  return resolveImageByName(product) || FALLBACK_IMAGE
}
